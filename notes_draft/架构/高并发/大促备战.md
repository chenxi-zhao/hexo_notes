### 避免问题发生
系统尽量保持简单稳定
 - 异步
 - 隔离（分组RPC隔离/线程隔离）
 - 风险意识
 - 压测
 - 流量机房闭环
 - 往后多考虑一步

### 备战需要关注的几个关键点
 - 监控系统
    - 系统对外提供的接口需要添加监控；
    - 依赖的所有外部资源必须添加监控（包括rpc接口和DB），并且需要添加可用率报警以及必要的性能报警
 - 系统监控
    - 添加应用服务器、数据库的监控（内存使用率、CPU利用率等）
 - 合理设置依赖的rpc接口的超时和重试参数
    - 包含RPC调用/缓存系统调用，数据库调用等，必要时非强依赖可以有损降级
 - 紧急联系人
    - 各系统指定至少两位紧急联系人，出现问题时迅速响应；
    - 依赖的外部服务也要指定至少两位紧急联系人，添加其联系方式，出现相关问题时确保能立即电话或微信联系到；
    - 确保相关运维、DBA的联系方式也能第一时间找到
 - 工具的使用
    - 熟练使用各种监控/日志系统；
    - 各系统相关成员都要有缓存、消息、数据库查询等相应的权限
 - 压测相关
    - 详细梳理接口的调用场景、平时的调用量和峰值、之前大促期间的调用量和峰值；
    - 面向C端的接口要按10倍的量来压，面向B端的接口至少要按3~4倍的量来压；
    - 除了压单个接口之外，还需要按场景来压，尽可能模拟出线上的场景；
    - 压测性能要关注到TP999
 - 演练
    - 降级、后台开关一定要提前演练，确保有效、可靠
    - 一定要列出可降级开关的影响范围

### 一些方法
 - 对读写接口（或者耗时较大的接口）做线程隔离，大流量可以从Rpc上控制分组隔离来源
 - 对于不同来源的调用设置不同的监控key，区分性能状况，可以直观了解
 - 注意机房不同配置机器负载不均问题（监控）
 - 读写分离（可以维护多套从库链接分流，方便快速切换）
 - 非主流业务直接异步操作或者提供降级开关
 - C端应用的异地多活，防止跨机房调用
 - 注意各依赖调用（DB/RPC/CACHE等）的超时时间，防止被拖死
 - 限流/降级开关评估影响范围，提前演练
 - **压测**，C端应用或者接口一定要压测



 ### 统一异常处理/统一监控报警处理